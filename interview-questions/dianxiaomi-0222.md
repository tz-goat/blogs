# 店小秘面试

线下：笔试一轮+技术一面一轮+技术二面

## 笔试

**1. 用正则表达式设计一个Email输入框，要求输入符合Email格式**

```markdown
#正则 #html属性 #input #setCustomValidity #pattern #type="email"
```

- 使用`pattern`属性来指定输入框的正则表达式
- 使用`type="email"`来指定输入框的类型为邮箱
- 当输入不符合正则表达式时，input会自动增加invalid伪类，然后我们可以利用这个伪类修改display属性来显示错误信息


```html
<input type="email" pattern="/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/" placeholder="请输入邮箱地址" required>
<span class="error">请输入有效的邮箱地址</span>
```

```css
.error {
    color: red;
    font-size: 14px;
    display: none;
}

input:invalid+.error {
    display: block;
}
```

**2. 手写节流**

**3. 有哪些行内元素和块级元素，怎么进行转换**

**参考：**

- CSS中 块级元素、行内元素、行内块元素区别：https://juejin.cn/post/6998925491797229599

- 首先分析一下块元素和行内元素的区别，然后这里也可以扩展到行内块级元素

**块级元素 block**
- 每个块级元素都是独自占一行；
- 高度，行高，外边距（margin）以及内边距（padding）都可以控制；
- 宽度默认是100%，可以设置宽高

**常见的块级元素包括：**
- div
- h1-h6
- p
- ul
- ol
- li

**行内元素 inline**
- 行内元素不会独占一行，多个行内元素会排列在同一行，直到一行放不下才会换行；
- 设置高度和宽度无效，外边距（margin）以及内边距（padding）的**上下无效，左右有效**；
- 行内元素的高度一般由元素内部的字体大小决定，宽度由内容的长度控制

**常见的行内元素包括：**
- span
- a
- b
- i
- em
- strong
- code

**行内块级元素 inline-block**
- 行内块级元素是既具有行内元素的特性，又具有块级元素的特性
- 行内块级元素在同一行内显示，但是**可以设置宽度和高度**
- 行内块级元素的**上下外边距和内边距都可以控制**

**常见的行内块级元素包括：**
- img
- input
- textarea
- select
- button

面试的时候回答还是把这些当做行内元素来回答，这些元素在一些网上也被认作行内元素，但是我这里还是把他们归类为行内块级元素，因为它们的width和height可以被设置


**4. 同源跨域的实现方法**


## 一面

### 怎么写一个并发处理器的类

在JS中实现一个并发异步处理器的类，这个类接受两个参数，第一个参数为一个Promsie数组，第二个参数设最大并发数的数值，需要保证返回的结果顺序是跟传入的输入顺序一致

请说下实现思路


- 考虑到我做过文件下载相关的项目和分块下载的背景，所以问了我这个

## 二面
三个逻辑推理题

1. 给定两个数a,b 怎么返回一个他们之间的数

2. 给一个有固定宽高的边框，然后输入一个图片，给出具体的缩放比例保证这个图片一定能正好显示在这个边框中

3. 假设有一个类Rect, （l, r, t, b）怎么判断他们两个rect类有相交，